# üìä –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã –æ—Ç—á–µ—Ç–æ–≤

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–û—Ç—á–µ—Ç—ã –ø–æ –∑–∞–¥–∞—á–∞–º (—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –≤–µ—á–µ—Ä–Ω–∏–µ) –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –≤ `handlers_veretevo/reports.py`.

## üîç –ê–Ω–∞–ª–∏–∑
1. ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ (`send_morning_report`, `send_evening_report`)
2. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
3. ‚ùå –ù–µ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö cron-–∑–∞–¥–∞—á
4. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è job queue

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç—á–µ—Ç–æ–≤ –≤ main.py
```python
def setup_report_scheduler(application):
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—Ç—á–µ—Ç–æ–≤"""
    # –£—Ç—Ä–µ–Ω–Ω–∏–π –æ—Ç—á–µ—Ç –≤ 7:30
    application.job_queue.run_daily(
        send_morning_report, 
        time=datetime.time(hour=7, minute=30),
        days=(0, 1, 2, 3, 4, 5, 6)
    )
    
    # –í–µ—á–µ—Ä–Ω–∏–π –æ—Ç—á–µ—Ç –≤ 18:00
    application.job_queue.run_daily(
        send_evening_report, 
        time=datetime.time(hour=18, minute=0),
        days=(0, 1, 2, 3, 4, 5, 6)
    )
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ `requirements.txt`:
```
python-telegram-bot[job-queue]>=22.0
```

### 3. –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
`scripts/test_reports.py` - –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤:
```bash
python3 scripts/test_reports.py morning   # –¢–µ—Å—Ç —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ—Ç—á–µ—Ç–∞
python3 scripts/test_reports.py evening   # –¢–µ—Å—Ç –≤–µ—á–µ—Ä–Ω–µ–≥–æ –æ—Ç—á–µ—Ç–∞
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –£—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—á–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ 7:30
- ‚úÖ –í–µ—á–µ—Ä–Ω–∏–µ –æ—Ç—á–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ 18:00
- ‚úÖ –û—Ç—á–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤–æ –≤—Å–µ –æ—Ç–¥–µ–ª—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏
- ‚úÖ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ–±–∞ —Ç–∏–ø–∞ –æ—Ç—á–µ—Ç–æ–≤
python3 scripts/test_reports.py morning   # ‚úÖ –£—Å–ø–µ—à–Ω–æ
python3 scripts/test_reports.py evening   # ‚úÖ –£—Å–ø–µ—à–Ω–æ
```

### –õ–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç —Ä–∞–±–æ—Ç—É
```
‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç—á–µ—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω: —É—Ç—Ä–µ–Ω–Ω–∏–π –≤ 7:30, –≤–µ—á–µ—Ä–Ω–∏–π –≤ 18:00
Added job "send_morning_report" to job store "default"
Added job "send_evening_report" to job store "default"
```

## üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

| –û—Ç—á–µ—Ç | –í—Ä–µ–º—è | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|-------|-------|------------|
| –£—Ç—Ä–µ–Ω–Ω–∏–π | 7:30 | –ó–∞–¥–∞—á–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–Ω–æ–≤–∞—è" –∏ "–≤ —Ä–∞–±–æ—Ç–µ" |
| –í–µ—á–µ—Ä–Ω–∏–π | 18:00 | –í—Å–µ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ |

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
```bash
python3 scripts/test_reports.py morning   # –£—Ç—Ä–µ–Ω–Ω–∏–π –æ—Ç—á–µ—Ç
python3 scripts/test_reports.py evening   # –í–µ—á–µ—Ä–Ω–∏–π –æ—Ç—á–µ—Ç
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
```bash
grep -i "–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫\|report" logs/bot.log
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
./quick_restart.sh
```

## üìö –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### README.md
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–∞—Ö
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤

### QUICK_REFERENCE.md
- –î–æ–±–∞–≤–ª–µ–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

–û—Ç—á–µ—Ç—ã –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 7:30 –∏ 18:00 –≤–æ –≤—Å–µ –æ—Ç–¥–µ–ª—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏.

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 30 –∏—é–ª—è 2025* 