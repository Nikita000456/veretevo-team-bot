#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Ç–∞ –æ—Ö—Ä–∞–Ω—ã (ID: 5229424607)
"""

import sys
import os
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from services_veretevo.department_service import load_departments, get_user_departments, DEPARTMENTS

def test_new_member_capabilities():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞"""
    print("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ (ID: 5229424607)...")
    
    load_departments()
    user_id = 5229424607
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤ –∫–∞–∫–∏—Ö –æ—Ç–¥–µ–ª–∞—Ö –æ–Ω —Å–æ—Å—Ç–æ–∏—Ç
    departments = get_user_departments(user_id)
    dept_names = [dept[1] for dept in departments]
    
    print(f"üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: Nikita Astapov (ID: {user_id})")
    print(f"üìã –°–æ—Å—Ç–æ–∏—Ç –≤ –æ—Ç–¥–µ–ª–∞—Ö: {', '.join(dept_names) if dept_names else '–ù–µ —Å–æ—Å—Ç–æ–∏—Ç –Ω–∏ –≤ –æ–¥–Ω–æ–º –æ—Ç–¥–µ–ª–µ'}")
    
    if "–û—Ö—Ä–∞–Ω–∞" in dept_names:
        print("‚úÖ –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ç–¥–µ–ª–∞ '–û—Ö—Ä–∞–Ω–∞'")
        print("‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∑–∞–¥–∞—á")
        print("‚úÖ –ú–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ—Ç–¥–µ–ª–∞ '–û—Ö—Ä–∞–Ω–∞'")
        print("‚úÖ –ü–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ GPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –≤ —á–∞—Ç–µ –æ—Ö—Ä–∞–Ω—ã")
    else:
        print("‚ùå –ù–ï –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏")
    
    print()

def test_task_creation_scenario():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á"""
    print("üß™ –°—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á –¥–ª—è –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞...")
    
    user_id = 5229424607
    departments = get_user_departments(user_id)
    
    if departments:
        print("‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏")
        print("üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç–¥–µ–ª—ã:")
        for dept_key, dept_name in departments:
            print(f"   - {dept_name} (–∫–ª—é—á: {dept_key})")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
        print("\nüë• –ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∑–∞–¥–∞—á –æ–Ω –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å")
        print("üéØ –í –ª–∏—á–Ω–æ–º —á–∞—Ç–µ —Å –±–æ—Ç–æ–º –æ–Ω —É–≤–∏–¥–∏—Ç:")
        print("   - –ö–Ω–æ–ø–∫—É 'üìå –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞'")
        print("   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å –æ—Ç–¥–µ–ª '–û—Ö—Ä–∞–Ω–∞'")
        print("   - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –æ—Ç–¥–µ–ª–∞ '–û—Ö—Ä–∞–Ω–∞'")
    else:
        print("‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏")
    
    print()

def test_gpt_access():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ GPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É"""
    print("üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ GPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É...")
    
    user_id = 5229424607
    departments = get_user_departments(user_id)
    dept_names = [dept[1] for dept in departments]
    
    if "–û—Ö—Ä–∞–Ω–∞" in dept_names:
        print("‚úÖ –í —á–∞—Ç–µ –æ—Ö—Ä–∞–Ω—ã (-1002295933154) –æ–Ω –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ GPT:")
        print("   - –ö–Ω–æ–ø–∫–∞ 'üí° GPT-–æ—Ç–≤–µ—Ç' –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π")
        print("   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Yandex GPT")
        print("   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π")
    else:
        print("‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ GPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É")
    
    print()

def main():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""
    print("üöÄ === –¢–ï–°–¢ –ù–û–í–û–ì–û –£–ß–ê–°–¢–ù–ò–ö–ê –ß–ê–¢–ê –û–•–†–ê–ù–´ ===\n")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
    test_new_member_capabilities()
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á
    test_task_creation_scenario()
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø –∫ GPT
    test_gpt_access()
    
    print("‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
    print("\nüìã –†–µ–∑—É–ª—å—Ç–∞—Ç:")
    print("‚úÖ –ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ (ID: 5229424607) —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É")
    print("‚úÖ –û–Ω –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ç–¥–µ–ª–∞ '–û—Ö—Ä–∞–Ω–∞'")
    print("‚úÖ –û–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∑–∞–¥–∞—á")
    print("‚úÖ –û–Ω –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ GPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –≤ —á–∞—Ç–µ –æ—Ö—Ä–∞–Ω—ã")
    print("‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!")

if __name__ == "__main__":
    main() 